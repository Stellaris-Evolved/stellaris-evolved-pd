@high = 16
@med = 8
@low = 4

@high_rare = 0.5
@mid_rare = 0.25
@low_rare = 0.1

@planet_type_bonus = 1.5

d_ecogarden = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3
			planet_amenities_mult = 0.1
			planet_jobs_unity_produces_mult = 0.1
			job_preserve_ranger_add = 18
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3
			planet_amenities_mult = 0.1
			planet_jobs_unity_produces_mult = 0.1
			job_agri_drone_add = 18
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3	
			planet_amenities_mult = 0.1
			planet_jobs_unity_produces_mult = 0.1
			job_agri_drone_add = 18
		}
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		is_planet_class = pc_ecocity
	}
	
	drop_weight = {
		weight = 0
	}
}

d_milarc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3
			planet_orbital_bombardment_damage = -0.75
		}
	}

	inline_script = {
		script = jobs/inline_evolved_soldier
		count = 18
		mult = 1
		display = no_desc
		trigger = ""
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3	
			planet_orbital_bombardment_damage = -0.75
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3	
			planet_orbital_bombardment_damage = -0.75
		}
	}

	inline_script = {
		script = jobs/inline_evolved_warrior_drone
		count = 18
		mult = 1
		display = no_desc
		trigger = ""
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		is_planet_class = pc_milarc
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_broken_drydocks = {
	icon = d_pd_broken_drydocks
	time = 270
	
	is_for_colonizable = yes
	category = deposit_cat_rare_blocker	
	
	potential = { always = no }
	
	planet_modifier = { 
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no

	blocker_swap_types = {
		d_pd_repaired_drydocks
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 1000
		}
	}
}

d_pd_repaired_drydocks = {
	icon = d_pd_broken_drydocks
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	potential = { always = no }
	
	planet_modifier = { 
		planet_jobs_society_research_produces_mult = 0.15
		planet_jobs_engineering_research_produces_mult = 0.15
		planet_jobs_physics_research_produces_mult = 0.15
	}

	inline_script = {
		script = jobs/inline_evolved_researcher
		count = 4
		mult = 1
		display = no_desc
		trigger = ""
	}
	inline_script = {
		script = jobs/inline_evolved_soldier
		count = 2
		mult = 1
		display = no_desc
		trigger = ""
	}
	inline_script = {
		script = jobs/inline_evolved_warrior_drone
		count = 2
		mult = 1
		display = no_desc
		trigger = ""
	}
	inline_script = {
		script = jobs/inline_evolved_cadet
		count = 2
		mult = 1
		display = no_desc
		trigger = ""
	}
	
	drop_weight = {
		weight = 0
	}
}

d_corpoarc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			planet_max_districts_add = -3	
			trade_value_mult = 0.1
			planet_jobs_unity_produces_mult = 0.1
		}
	}

	inline_script = {
		script = jobs/inline_evolved_entertainer
		count = 9
		mult = 1
		display = no_desc
		trigger = ""
	}

	inline_script = {
		script = jobs/inline_evolved_job
		job = manager
		count = 9
		mult = 1
		display = no_desc
		trigger = "
			exists = owner
			owner = { 
				is_regular_empire = yes 
				tec_is_aiauth_empire = no
			}
		"
	}

	inline_script = {
		script = jobs/inline_evolved_job
		job = tec_ordinator
		count = 9
		mult = 1
		display = no_desc
		trigger = "
			exists = owner
			owner = { 
				is_regular_empire = yes 
				tec_is_aiauth_empire = no
			}
		"
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		is_planet_class = pc_corpoarc
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_capital_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_normal_capital_arcologies
	}
		
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_regular
		trigger = tec_pd_arc_allows_normal_capital_arcologies
		security_job = capital_security
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_ecocity
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_palace_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_palace_capital_arcologies
	}

	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_regular
		trigger = tec_pd_arc_allows_palace_capital_arcologies
		security_job = palace_guard
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_ecocity
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_boardroom_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_corp_capital_arcologies
	}

	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_regular
		trigger = tec_pd_arc_allows_corp_capital_arcologies
		security_job = capital_security
	}
	
	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_ecocity
			is_planet_class = pc_corpoarc
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_biohivecap_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_hive_capital_arcologies
	}
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_hive
		trigger = tec_pd_arc_allows_hive_capital_arcologies
	}


	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_hive
			is_planet_class = pc_bioforge
			is_planet_class = pc_biofort
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_industrial_sector = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	planet_modifier = {
		planet_max_districts_add = -3
	}

	inline_script = {
		script = jobs/inline_evolved_politician
		trigger = ""
		count = 1
		mult = 1
		display = no_desc
	}

	inline_script = {
		script = jobs/inline_evolved_translucer
		trigger = "
			exists = owner
			owner = { has_technology = tech_rare_crystals }
		"
		count = 6
		mult = 1
		display = no_desc
	}

	inline_script = {
		script = jobs/inline_evolved_chemist
		trigger = "
			exists = owner
			owner = { has_technology = tech_volatile_motes }
		"
		count = 6
		mult = 1
		display = no_desc
	}

	inline_script = {
		script = jobs/inline_evolved_gas_refiner
		trigger = "
			exists = owner
			owner = { has_technology = tech_exotic_gases }
		"
		count = 6
		mult = 1
		display = no_desc
	}

	potential = {
		OR = {
			is_planet_class = pc_city
			is_planet_class = pc_bioforge
			is_planet_class = pc_megafloraforge
			is_planet_class = pc_machine_factory
		}
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_florahivecap_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_treehive_capital_arcologies
	}
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_hive
		trigger = tec_pd_arc_allows_treehive_capital_arcologies
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_megafloratol
			is_planet_class = pc_megafloraforge
			is_planet_class = pc_megaflorafort
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_machinecap_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_machine_capital_arcologies
	}
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_machine
		trigger = tec_pd_arc_allows_machine_capital_arcologies
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_machine
			is_planet_class = pc_machine_factory
			is_planet_class = pc_machine_fort
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_roguecap_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	icon = d_pd_capital_arc

	use_weights_for_terraforming_swap_types = no

	# districts and stability
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts
		trigger = tec_pd_arc_allows_rogue_machine_capital_arcologies
	}
	inline_script = {
		script = deposits/tec_pd_arc_capital_deposit_districts_job_machine
		trigger = tec_pd_arc_allows_rogue_machine_capital_arcologies
	}
	
	potential = {
		is_pd_arcology = yes
		is_capital = yes
	}

	drop_weight = {
		weight = 0
	}
}

d_pd_verticalfarm_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	planet_modifier = {
		planet_max_districts_add = -1
		planet_housing_add = 10
	}

	resources = {
		category = planet_deposits
		upkeep = {
			energy = 5
			exotic_gases = 1
		}
	}

	inline_script = {
		script = jobs/inline_evolved_farmer
		trigger = "
			owner = {
				OR = {
					is_machine_empire = no
					OR = {
						has_civic = civic_machine_servitor 
						has_civic = civic_machine_assimilator
					}
				}
			}
		"
		regular_count = 6
		regular_secondary_count = 6
		hive_count = 6
		hive_secondary_count = 6
		machine_count = 6
		machine_secondary_count = 6
		mult = 1
		display = no_desc
	}

	potential = {
		OR = {
			tec_is_city_world = yes
			tec_is_hive_world = yes

			is_planet_class = pc_city
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_corpoarc
		}
		planet = { is_capital = yes }
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_necro_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no

	planet_modifier = {
		planet_max_districts_mult = -0.1
	}

	inline_script = "deposits/pd_necro_deposits"


	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_city
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_corpoarc
			is_planet_class = pc_hive
			is_planet_class = pc_hivetidallylocked
		}
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_shroud_arc = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	planet_modifier = {
		planet_max_districts_mult = -0.1
		planet_telepaths_unity_produces_add = 1
		planet_administrators_unity_produces_add = 0.5
		planet_managers_unity_produces_add = 0.5
		planet_priests_unity_produces_add = 0.5
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		OR = {
			is_planet_class = pc_city
			is_planet_class = pc_ecocity
			is_planet_class = pc_milarc
			is_planet_class = pc_corpoarc
		}
	}
	
	drop_weight = {
		weight = 0
	}
}


d_pd_capital_spot = {
	icon = d_pd_necro_arc_spot
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	use_weights_for_terraforming_swap_types = no
	
	planet_modifier = {
		planet_max_districts_add = -3
	}
	
	triggered_planet_modifier = {
		potential = {
			OR = {
				tec_is_ringworld = yes
				tec_is_elysium = yes
				tec_is_modded_space_arcology = yes
				AND = {
					tec_is_habitat = yes
					tec_is_arcology_habitat = yes
				}
			}
		}
		planet_max_districts_add = 1
	}
	

	potential = {
		has_planetary_diversity_arcologies = yes
		tec_pd_arc_allows_capital_arcologies = yes
	}
	
	drop_weight = {
		weight = 0
	}
}

d_pd_techno_arc_farm = {
	icon = d_pd_verticalfarm_arc  # d_pd_techno_arc_farm
	is_for_colonizable = yes
	category = deposit_cat_rare

	use_weights_for_terraforming_swap_types = no

	planet_modifier = {
		planet_max_districts_mult = -0.1
	}

	inline_script = {
		script = jobs/inline_evolved_farmer
		trigger = ""
		regular_count = 0.2
		regular_secondary_count = 0.2
		hive_count = 0.2
		hive_secondary_count = 0.2
		machine_count = 0.2
		machine_secondary_count = 0.2
		mult = 1
		display = per_pop
	}

	potential = {
		has_planetary_diversity_arcologies = yes
		is_planet_class = pc_pd_techno_arc
	}
}